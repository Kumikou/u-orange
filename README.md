# UOrange 悠橙

| 技术 | 说明 |
| ---- | ---- |
| Spring Cloud Alibaba | 微服务方案 |
| Spring Cloud GateWay | 网关 |
| nacos | 服务发现、配置中心 |
| SpringBoot | 容器+MVC框架 |
| Spring Security OAuth2 | 认证和授权框架 |
| Mybatis | ORM框架 |
| Mybatis Plus  | Mybatis增强工具 |
| Swagger2 | 文档生产工具 |
| ElasticSearch  | 搜索引擎 |
| RabbitMQ | 消息队列 |
| Mysql | 数据库 |
| Redis | 数据缓存 |
| Docker | 应用容器引擎 |
| Hikari | 数据库连接池 |
| LogStash | ES同步Mysql数据 |
| Maven | 代码构建 |
|  |  |

## 组织结构
| 主要模块 | 说明 |
| ----  | ---- |
| uorange-business | 业务代码 |
| uorange-commons | 工具类及通用代码 |
| uorange-gateway | 项目网关 |

| 包名 | 说明 |
| ----  | ---- |
| command | 业务代码 |
| config | 配置 |
| controller | 请求响应层 |
| feign | 服务调用 |
| feign | 服务容错降级 |
| repository/entity | 数据模型 |
| repository/mapper | 数据映射接口 |
| sender | 事件推送 |
| listener | 事件监听 |
| service | 业务逻辑层 |
| vo | 展示层对象 |

## 启动项目前准备

### 运行nacos单机环境
下载以下压缩包
* [nacos for Linux](https://github.com/alibaba/nacos/releases/download/1.1.4/nacos-server-1.1.4.tar.gz)
* [naocs for Windows](https://github.com/alibaba/nacos/releases/download/1.1.4/nacos-server-1.1.4.zip)

将压缩包解压到任意目录后进入bin文件夹，使用以下命令即可启动和关闭nacos：
* 启动：`startup.cmd/startup.sh -m standalone`
* 关闭：`shutdown.cmd/shutdown.sh`

浏览器访问http://localhost:8848/nacos/index.html 默认账号：nacos 密码：nacos


## 接口文档 Interface Documentation

### 一、用户认证模块
* 注册/创建唯一用户
* 修改密码
* 查询用户
* 通过用户名获取全局用户
* 通过电话号码获取全局用户
* 删除用户

### 二、用户基本信息模块
* 用户pai
    * 获取基本信息
    * 修改基本信息
    * 获取用户头像
    * 修改用户名
    * 修改用户头像
    * 查看用户主页信息
* 后台api
    * 获取所有用户基本信息
    * 修改用户基本信息
    * 删除用户

### 三、地址模块
* 用户api
    * 增加收货地址
    * 查看收货地址
    * 删除收货地址
    * 修改收货地址
    * 获取全部收货地址
* 后台api
    * 增加用户收货地址
    * 查看用户收货地址
    * 删除用户收货地址
    * 修改用户收货地址    
    
### 四、商品模块
* 用户api
    * 上传/发布商品
    * 删除商品
    * 修改商品信息
    * 查看商品详情
    * 下架商品
    * 获取已发布的商品
    * 获取已下架的商品
* 后台api
    * 查看所有商品
    * 查看所有已发布的商品
    * 查看所有已下架的商品
    * 查看所有已删除的商品
    * 下架商品
    * 删除商品
    
### 五、订单模块
* 用户api
    * 创建订单
    * 获取已买到的商品订单
    * 获取已卖出的商品订单
    * 查看已买到的拍卖品
    * 查看已卖出的拍卖品
    * 查看订单详情
    * 删除订单
* 后台api
    * 获取全部订单
    * 获取某一用户已买到商品订单
    * 获取某一用户已卖出商品订单
    * 获取某一用户已买到拍卖品订单
    * 获取某一用户已拍卖拍卖品订单
    * 删除订单
    * 修改订单

### 六、支付模块
* 待定

### 七、搜索模块
* 通用api
    * 根据关键字搜索商品
    * 根据关键字搜索拍卖品
    * 根据条件筛选商品
    * 根据条件筛选拍卖品
    * 根据用户名搜索用户（待定）
    * 记录用户搜索关键字
* 用户api
    * 获取历史关键字
    * 删除历史关键字

### 八、拍卖商品模块
* 通用api
    * 查看拍卖品详情
* 用户api
    * 上传/发布拍卖品
    * 删除拍卖品
    * 下架拍卖品
    * 修改拍卖品详情
    * 查看已发布的拍卖品
    * 查看已删除的拍卖品
    * 拍卖某一商品
* 后台api
    * 获取已发布的拍卖品
    * 获取已下架得拍卖品
    * 获取已删除的拍卖品
    * 获取某一用户已发布的拍卖品
    * 获取某一用户已下架得拍卖品
    * 获取某一用户已删除的拍卖品
    * 删除拍卖品
    * 修改拍卖品
    
### 九、浏览次数模块
* 记录已上架商品被浏览次数
* 记录已上架拍卖品被浏览次数
* 记录用户主页被拜访次数
* 获取已上架商品被浏览次数
* 获取已上架拍卖品被浏览次数
* 获取用户主页被拜访次数

### 十、收藏/关注模块
* 用户api
    * 添加关注用户
    * 取消关注用户
    * 查看已关注用户
    * 添加收藏商品
    * 删除已收藏商品
    * 查看已收藏商品
    * 添加收藏拍卖品
    * 删除已收藏拍卖品
    * 查看已收藏拍卖品
    * 查看粉丝
* 后台api
    * 查看用户已关注列表
    * 查看用户收藏商品列表
    * 查看用户收藏拍卖品列表

### 十一、说明模块
* 用户api
    * 增加反馈
    * 查看说明
* 后台api
    * 查看反馈
    * 删除反馈
    * 增加说明
    * 删除说明
    * 修改说明
    * 查看说明

### 十二、评价模块
* 用户api
    * 对其他用户评价
    * 获取其他用户对我的评价
    * 获取对其他用户的评价
    * 修改对其他用户的评价
* 后台api
    * 获取用户收到的评价
    * 获取用户对其他用户的评价
    * 删除用户收到的评价
    * 删除用户对其他用户的评价

### 十三、价格评估模块
* 用户api
    * 上传/添加待估价商品
    * 删除待估价
    * 修改待估价
    * 查看待估价商品
    * 查看已估价商品
    * 删除已估价商品
* 后台api
    * 更新商品估价
    * 查看待估价商品
    * 查看已估价商品
